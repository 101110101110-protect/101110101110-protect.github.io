"use strict";function handleFiles(e){const t=this.files;e.preventDefault(),resultWrapper.innerHTML="";for(let e=0,s=t.length;e<s;e++)filesStore.items.add(t[e]);for(let e=0,t=filesStore.files.length;e<t;e++){let t=document.createElement("div"),s=document.createElement("div");t.classList.add("filewrapper"),s.classList.add("close"),s.addEventListener("click",()=>{filesStore.items.remove(e),t.remove(),inputElement.files=filesStore.files}),t.innerHTML=filesStore.files[e].name,t.appendChild(s),resultWrapper.appendChild(t)}inputElement.files=filesStore.files}const switchers=document.querySelectorAll(".switcher-wrapper");for(const e of switchers)e.addEventListener("click",()=>{const t=e.querySelectorAll("input")[0];t.checked=!t.checked});const inputsWrapper=document.querySelectorAll(".input-wrapper"),setInputEventListeners=e=>{const t=e.closest("div");e.onfocus=function(){t.classList.add("active"),t.querySelectorAll("label")[0].classList.add("active")},e.onblur=function(){t.classList.remove("active"),""===e.value&&t.querySelectorAll("label")[0].classList.remove("active")};t.querySelectorAll("label")[0].addEventListener("click",()=>{e.focus()})};for(const e of inputsWrapper){let t=e.querySelectorAll("input")[0];t||(t=e.querySelectorAll("textarea")[0]),t.classList.contains("hidden")||setInputEventListeners(t)}const selects=document.querySelectorAll(".select");for(const e of selects)e.addEventListener("click",function(e){if(this.classList.contains("active"))for(const e of selects)e.querySelectorAll("ul")[0].style.display="none",e.classList.remove("active");else{for(const e of selects)e.querySelectorAll("ul")[0].style.display="none",e.classList.remove("active");e.target.classList.contains(".input-option")||(this.classList.add("active"),this.querySelectorAll("ul")[0].style.display="block")}});const selectOptions=document.querySelectorAll("li.input-option");for(const e of selectOptions)e.addEventListener("click",function(){let e=this.getAttribute("data-value"),t=this.innerHTML;this.closest(".select").querySelectorAll(".textfirst")[0].innerHTML=t,this.closest(".select").querySelectorAll(".option").value=e});document.addEventListener("click",e=>{if(!e.target.classList.contains("textfirst")&&!e.target.classList.contains("input-option"))for(const e of selects)e.querySelectorAll("ul")[0].style.display="none",e.classList.remove("active")});const sessionColor=document.querySelectorAll(".session-color")[0],sessionColorMark=document.querySelectorAll(".session-color-mark")[0],sessionColorsWrapper=document.querySelectorAll(".session-colors-wrapper")[0],sessionColorOption=document.querySelectorAll(".session-color-option"),sessionHighlightColorInput=document.querySelectorAll("#session-hightlight-color")[0];sessionColor.addEventListener("click",e=>{sessionColorsWrapper.classList.toggle("active")});let prevActiveMark;for(const e of sessionColorOption)e.addEventListener("click",function(){let e=this.getAttribute("data-color");sessionColorsWrapper.classList.remove("active"),this.classList.add("active"),prevActiveMark&&prevActiveMark.classList.remove("active"),sessionHighlightColorInput.value=e,"none"!==e?(sessionColor.classList.add("mark-active"),sessionColorMark.style.backgroundColor=e):sessionColor.classList.remove("mark-active"),prevActiveMark=this});const items=document.querySelectorAll(".item");for(const e of items){let t=e.querySelectorAll("input")[0];t.checked?e.classList.add("active"):e.classList.remove("active"),t.addEventListener("click",function(t){t.target.checked?e.classList.add("active"):e.classList.remove("active")})}const theadCheckboxes=document.querySelectorAll(".thead-checkbox");for(const e of theadCheckboxes)e.addEventListener("click",function(){let e=this.querySelectorAll("input")[0].checked,t=this.closest(".table").querySelectorAll(".tbody-item");for(const s of t)s.querySelectorAll("input")[0].checked=e});const filesStore=new ClipboardEvent("").clipboardData||new DataTransfer,holder=document.getElementById("holder"),resultWrapper=document.getElementsByClassName("result")[0],inputElement=document.getElementById("fileInput");holder.ondragover=function(){return this.className="hover",!1},holder.ondragend=function(){return this.className="",!1},holder.ondrop=function(e){this.className="",e.preventDefault(),resultWrapper.innerHTML="";for(let t=0,s=e.dataTransfer.files.length;t<s;t++)filesStore.items.add(e.dataTransfer.files[t]);for(let e=0,t=filesStore.files.length;e<t;e++){let t=document.createElement("div"),s=document.createElement("div");t.classList.add("filewrapper"),s.classList.add("close"),s.addEventListener("click",()=>{filesStore.items.remove(e),t.remove(),inputElement.files=filesStore.files}),t.innerHTML=filesStore.files[e].name,t.appendChild(s),resultWrapper.appendChild(t)}inputElement.files=filesStore.files},inputElement.addEventListener("change",handleFiles,!1);const tabsManager=document.getElementsByClassName("tabs_manager");for(const e of tabsManager)for(const t of e.querySelectorAll("span"))t.addEventListener("click",function(){console.log("click");for(const t of e.querySelectorAll("span"))t.classList.remove("active");t.classList.add("active");let s=t.getAttribute("data-index");for(const e of t.closest(".mw").querySelectorAll("main"))console.log(e.getAttribute("data-index")),console.log(s),e.classList.contains("active")&&e.classList.remove("active"),e.getAttribute("data-index")===s&&e.classList.add("active")});